# Исправление ошибки аутентификации в DBeaver

## Проблема

Ошибка: `FATAL: password authentication failed for user "postgres"`

## Причины

1. Пароль был изменен после создания контейнера
2. База данных была создана с другим паролем
3. Неправильный пароль введен в DBeaver

## Решения

### Решение 1: Проверьте пароль в .env файле

1. Откройте файл `.env` в корне проекта
2. Проверьте значение `POSTGRES_PASSWORD`
3. Используйте этот пароль в DBeaver

Если файла `.env` нет, пароль по умолчанию: `postgres`

### Решение 2: Пересоздайте базу данных с правильным паролем

⚠️ **Внимание:** Это удалит все данные из базы данных!

```bash
# Остановите контейнеры и удалите volumes
docker-compose down -v

# Убедитесь, что .env файл содержит правильный пароль
# POSTGRES_PASSWORD=postgres

# Запустите заново
docker-compose up -d supabase-db
```

### Решение 3: Измените пароль в существующей базе данных

Если вы не хотите терять данные:

```bash
# Подключитесь к контейнеру
docker-compose exec supabase-db psql -U postgres -d postgres

# В psql выполните:
ALTER USER postgres WITH PASSWORD 'postgres';

# Выйдите из psql
\q
```

Затем используйте новый пароль в DBeaver.

### Решение 4: Проверьте правильность ввода пароля

В DBeaver:
1. Убедитесь, что пароль введен правильно (без пробелов)
2. Попробуйте скопировать пароль из `.env` файла
3. Проверьте, что не включен Caps Lock

## Проверка подключения

После исправления проверьте подключение:

```bash
# Проверка через командную строку
docker-compose exec supabase-db psql -U postgres -d requirements_db -c "SELECT 1;"
```

Если команда выполняется успешно, значит пароль правильный.

## Настройка DBeaver

После исправления пароля:

1. Откройте DBeaver
2. Найдите ваше подключение к PostgreSQL
3. Правой кнопкой мыши → **Edit Connection**
4. Введите правильный пароль
5. Нажмите **Test Connection**
6. Сохраните изменения

## Альтернатива: Сохранить пароль в DBeaver

Чтобы не вводить пароль каждый раз:

1. В настройках подключения установите флажок **Save password**
2. DBeaver сохранит пароль в зашифрованном виде

## Если ничего не помогает

1. Проверьте, что контейнер запущен:
   ```bash
   docker-compose ps supabase-db
   ```

2. Проверьте логи контейнера:
   ```bash
   docker-compose logs supabase-db
   ```

3. Попробуйте подключиться через командную строку:
   ```bash
   docker-compose exec supabase-db psql -U postgres -d requirements_db
   ```

Если подключение через командную строку работает, значит проблема в настройках DBeaver.
